@import "tailwindcss";
@plugin "@tailwindcss/typography";
@source "hugo_stats.json";

@theme {
  --font-ja:
    "Helvetica Neue", "Arial", "Hiragino Kaku Gothic ProN", "Hiragino Sans",
    "sans-serif";
  --font-jamin:
    "游明朝", "Yu Mincho", "YuMincho", "Hiragino Mincho Pro", "Noto Serif JP",
    "Noto Serif JP", "serif";
}

.prose {
  line-height: 1.9; /*行間広め */
  letter-spacing: 0.05em; /* 文字間 */
}

.prose :where(blockquote) {
  font-weight: normal;
  font-style: normal;
  border-left-width: 4px;
  border-left-color: var(--color-neutral-300);
  color: var(--color-neutral-600);
  background-color: var(--color-neutral-50);
}

/* .prose :where(pre code) {
  font-size: small;
  color: var(--color-neutral-900);
  background-color: var(--color-neutral-100);
} */

.prose :where(pre) {
  color: var(--color-neutral-900);
  background-color: var(--color-neutral-100);
}

.prose :where(code) {
  @apply rounded px-1.5 py-1;
  font-weight: medium;
  color: var(--color-neutral-900);
  background-color: var(--color-neutral-100);
}

/* For markdown list */
@layer components {
  /* class="prose prose-neutral 
  prose-headings:font-bold prose-headings:text-black 
  prose-a:text-neutral-900 prose-a:decoration-neutral-300 prose-a:underline-offset-4 
  hover:prose-a:decoration-neutral-900 prose-code:bg-neutral-100 prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded prose-code:before:content-none prose-code:after:content-none 
  max-w-none" */
  /* 引用（blockquote）のイタリック解除 & 装飾 */

  .post ul > li {
    list-style: none;
    list-style-position: inside;
    position: relative;
    padding-left: 1.6em;
  }

  .post ol > li,
  .post ul > li {
    margin: 0.6rem 0;
  }

  .post ul > li:before {
    content: "";
    position: absolute;
    top: 0.7em;
    left: 0.35em;
    width: 7px;
    height: 7px;
    border-radius: 50%;
    background: rgba(24, 30, 50, 0.7);
  }

  .post ol {
    list-style: decimal;
    padding-left: 1.6em;
  }

  .post > p {
    @apply mt-7;
  }

  .post h2 {
    @apply mt-8 mb-6 border-b-2 border-neutral-300 pb-2 text-xl font-bold;
  }

  .post h3 {
    @apply text-lg;
    @apply font-semibold;
    @apply border-neutral-300;
    @apply border-l-4;
    @apply pl-4;
    @apply mt-8;
    @apply mb-6;
  }

  .post h4 {
    @apply text-lg;
    @apply font-semibold;
    @apply mt-4;
    @apply mb-2;
  }

  .post pre {
    @apply p-6;
    @apply overflow-auto;
    @apply bg-gray-100;
    @apply text-sm;
    @apply border;
    @apply border-gray-100;
    @apply rounded;
  }

  .post p > code,
  .post li > code {
    @apply text-sm;
    @apply m-0;
    @apply pt-1;
    @apply pb-1;
    @apply pl-2;
    @apply pr-2;
    @apply rounded;
    @apply bg-gray-100;
  }

  .toc a {
    @apply hover:underline;
  }

  .post blockquote {
    @apply text-sm;
    @apply bg-gray-100;
    @apply mt-3;
    @apply p-4;
    @apply border;
    @apply border-gray-100;
    @apply rounded;
  }

  .post .highlight {
    @apply text-xs;
    @apply bg-gray-100;
    @apply relative;
    @apply border;
    @apply border-gray-100;
    @apply rounded;
  }

  .post table {
    @apply overflow-auto;
    @apply mt-4;
    @apply border-l;
    @apply border-gray-300;
    @apply border-collapse;
    @apply table-auto;
    @apply block;
  }

  .post thead {
    @apply border-t;
    @apply bg-gray-100;
  }

  .post tr:nth-child(even) {
    @apply bg-gray-100;
  }

  .post th,
  td {
    @apply border-b;
    @apply border-r;
    @apply border-gray-300;
    @apply py-1 md:py-3;
    @apply px-2 md:px-4;
  }

  .post hr {
    @apply my-4 border-neutral-200;
  }

  /* External link icon for links with .external-link class */
  .external-link:not([href$=".jpg" i]):not([href$=".png" i]):not(
      [href$=".gif" i]
    ):not([href$=".jpeg" i]):not([href$=".webp" i])::after {
    display: inline-block;
    vertical-align: baseline;
    margin-left: 0.2em;
    width: 0.9em;
    height: 0.9em;
    content: " ";
    background-color: #6b7280;
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6'%3E%3C/path%3E%3Cpolyline points='15 3 21 3 21 9'%3E%3C/polyline%3E%3Cline x1='10' y1='14' x2='21' y2='3'%3E%3C/line%3E%3C/svg%3E");
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6'%3E%3C/path%3E%3Cpolyline points='15 3 21 3 21 9'%3E%3C/polyline%3E%3Cline x1='10' y1='14' x2='21' y2='3'%3E%3C/line%3E%3C/svg%3E");
    mask-size: contain;
    -webkit-mask-size: contain;
    mask-repeat: no-repeat;
    -webkit-mask-repeat: no-repeat;
  }

  /* Automatically apply external link icon to prose links starting with http:// or https:// */
  .prose a[href^="http://"]:not([href$=".jpg" i]):not([href$=".png" i]):not(
      [href$=".gif" i]
    ):not([href$=".jpeg" i]):not([href$=".webp" i])::after,
  .prose a[href^="https://"]:not([href$=".jpg" i]):not([href$=".png" i]):not(
      [href$=".gif" i]
    ):not([href$=".jpeg" i]):not([href$=".webp" i])::after {
    display: inline-block;
    vertical-align: baseline;
    margin-left: 0.2em;
    width: 0.9em;
    height: 0.9em;
    content: " ";
    background-color: #6b7280;
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6'%3E%3C/path%3E%3Cpolyline points='15 3 21 3 21 9'%3E%3C/polyline%3E%3Cline x1='10' y1='14' x2='21' y2='3'%3E%3C/line%3E%3C/svg%3E");
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6'%3E%3C/path%3E%3Cpolyline points='15 3 21 3 21 9'%3E%3C/polyline%3E%3Cline x1='10' y1='14' x2='21' y2='3'%3E%3C/line%3E%3C/svg%3E");
    mask-size: contain;
    -webkit-mask-size: contain;
    mask-repeat: no-repeat;
    -webkit-mask-repeat: no-repeat;
  }

  #title {
    opacity: 0;
    animation: fadeIn 1.5s forwards;
  }

  @keyframes fadeIn {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
}
